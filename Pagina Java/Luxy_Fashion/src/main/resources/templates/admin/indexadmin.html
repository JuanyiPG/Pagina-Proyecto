<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxy fashion admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" th:href="@{/css/index.css}">


    <style>
        *{
          margin:0;
          padding:0;
          box-sizing:border-box;
          font-family:'Segoe UI', sans-serif;
        }

        body{
        display:flex;
          background:#f5f6fa;
          padding:25px;
        }

        .dashboard{
          display:grid;
          grid-template-columns:3fr 1fr;
          gap:25px;
        }

        .top{
          display:flex;
          justify-content:space-between;
          align-items:center;
          margin-bottom:20px;
          height: 50px;
        }

        .cards{
          display:grid;
          grid-template-columns:repeat(4,1fr);
          gap:20px;
          margin-bottom:25px;
        }

        .card{
          background:#fff;
          padding:18px;
          border-radius:14px;
          box-shadow:0 8px 18px rgba(0,0,0,.08);
          height: 50px;
        }

        .card small{color:#888;}
        .card h3{margin:8px 0;font-size:24px;}
        .up{color:#2ecc71;}
        .down{color:#50061f;}

        .chart{
          background:#fff;
          padding:16px;
          border-radius:16px;
          box-shadow:0 8px 18px rgba(0,0,0,.08);
        }

        .chart-large{
          height:260px;
          margin-bottom:20px;
        }

        .chart-row{
          display:grid;
          grid-template-columns:1fr 1fr;
          gap:20px;
        }

        .chart-row .chart{
          height:170px;
        }

        .chart canvas{
          width:100%!important;
          height:100%!important;
        }

        .right{
          display:flex;
          flex-direction:column;
          gap:20px;
        }

        .team, .efficiency{
          background:#fff;
          padding:20px;
          border-radius:16px;
          box-shadow:0 8px 18px rgba(0,0,0,.08);
        }

        .team ul{
          list-style:none;
          margin-top:15px;
        }

        .team li{
          display:flex;
          align-items:center;
          gap:10px;
          margin-bottom:10px;
        }

        .avatar{
          width:34px;
          height:34px;
          border-radius:50%;
          background:#ddd;
          position:relative;
        }

        .btn-estado{
          position:absolute;
          bottom:-6px;
          right:-6px;
          padding:2px 6px;
          font-size:9px;
          border-radius:10px;
          border:none;
          color:#fff;
          background:#2ecc71;
          font-weight:600;
        }

        .btn-estado.inactivo{
          background:#6c757d;
        }

        .efficiency{
          text-align:center;
        }

        .circle{
          width:130px;
          height:130px;
          border-radius:50%;
          border:10px solid #eee;
          border-top-color:#2ecc71;
          margin:15px auto;
          display:flex;
          align-items:center;
          justify-content:center;
          font-size:26px;
          font-weight:bold;
        }
    </style>
</head>

<body>
<div th:replace="~{itemss/headeradmin :: miHeader}"></div>
<div class="dashboard">

    <div>

        <div class="top">
            <div>
                <h1>¡Hola! Bienvenido al panel de Administrador</h1>
                <small>Estadísticas de ventas: Período: 1 de octubre – 7 de octubre</small>
            </div>
        </div>


        <div class="cards">

            <div class="card">
                <small>Ventas mensuales</small>
                <h3>632</h3>
                <span class="up">+131</span>
            </div>

            <div class="card">
                <small>Efectividad de venta</small>
                <h3>46.3%</h3>
                <span class="down">-19.4%</span>
            </div>

            <div class="card">
                <small>Promedio de ingresos</small>
                <h3>66%</h3>
            </div>


            <div class="card">
                <small>Usuarios
                </small>

                <h1>
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                    </svg>     5
                </h1>
                <p>
                    <span class="up">● 4 activas</span><br>
                    <span class="down">● 1 inactivas</span>
                </p>
            </div>

        </div>

        <div class="chart chart-large">
            <h5>Ventas del mes</h5>
            <canvas id="ventasChart"></canvas>
        </div>

        <div class="chart-row">
            <div class="chart">
                <h6>Abonos</h6>
                <canvas id="usuariosChart"></canvas>
            </div>

            <div class="chart">
                <h6>Ingresos</h6>
                <canvas id="ingresosChart"></canvas>
            </div>
        </div>

    </div>

    <div class="right">

        <div class="team">
            <h5>Tu equipo</h5>
            <ul>
                <li><div class="avatar"><button class="btn-estado">Activo</button></div>Yulieth Alejandra</li>
                <li><div class="avatar"><button class="btn-estado">Activo</button></div>Sebastian Pinto</li>
                <li><div class="avatar"><button class="btn-estado inactivo">Inactivo</button></div>Laura Murillo</li>
                <li><div class="avatar"><button class="btn-estado">Activo</button></div>Luxy</li>
            </ul>
        </div>

        <div class="efficiency">
            <h5>Promedio de ingresos</h5>
            <div class="circle">66%</div>
            <small>Calculado en los últimos 7 días</small>
        </div>

    </div>

</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {

      new Chart(ventasChart,{
        type:'bar',
        data:{
          labels:['1 Oct','2 Oct','3 Oct','4 Oct','5 Oct','6 Oct','7 Oct'],
          datasets:[
            {label:'Anterior',data:[30,45,40,28,35,38,42],backgroundColor:'#73152E'},
            {label:'Actual',data:[42,55,48,35,46,50,58],backgroundColor:'#50061f'}
          ]
        },
        options:{responsive:true,maintainAspectRatio:false}
      });

      new Chart(usuariosChart,{
        type:'doughnut',
        data:{
          labels:['Pagados','Abonados'],
          datasets:[{
            data:[60,40],
            backgroundColor:['#50061f','#73152E']
          }]
        },
        options:{responsive:true,maintainAspectRatio:false}
      });

      new Chart(ingresosChart,{
        type:'line',
        data:{
          labels:['Lun','Mar','Mié','Jue','Vie','Sáb','Dom'],
          datasets:[{
            label:'Ingresos',
            data:[10,14,12,16,13,17,15],
            borderColor:'#73152E',
            tension:.4
          }]
        },
        options:{responsive:true,maintainAspectRatio:false}
      });

    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const toggleBtn = document.getElementById("formToggle");
        const submenu = document.getElementById("submenuForm");

        if (toggleBtn && submenu) {
            toggleBtn.addEventListener("click", function(e) {
                e.preventDefault();
                submenu.classList.toggle("show");
            });
        }
    });
</script>
</body>
</html>
