<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="Pagina Web/bootstrap/css/bootstrap.min.css">
    <script src="Pagina Web/bootstrap/js/bootstrap.bundle.min.js"></script>
    <title>Empleado dashboard</title>
    <style>
        :root{
          --vinotinto:#5c0b26;
          --vinotinto-claro:#8a1c3a;
          --fondo:#f4f6fb;
        }

        *{
          margin:0;
          padding:0;
          box-sizing:border-box;
          font-family:'Segoe UI', sans-serif;
        }

        body{
          display:flex;
          min-height:100vh;
          background:var(--fondo);
        }

        .main{
          flex:1;
          padding:20px;
        }


        .header{
          background:white;
          padding:25px;
          border-radius:16px;
          margin-bottom:25px;
          box-shadow:0 6px 18px rgba(0,0,0,.1);
        }

        .header h1{
          color:var(--vinotinto);
          font-weight:700;
        }

        .header p{
          color:#555;
        }

        .cards{
          display:grid;
          grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
          gap:20px;
          margin-bottom:30px;
        }

        .card{
          background:white;
          padding:22px;
          border-radius:18px;
          box-shadow:0 6px 16px rgba(0,0,0,.08);
          border-left:6px solid var(--vinotinto);
          height: 50px;
        }

        .card h3{
          color:var(--vinotinto);
          font-weight:700;
        }

        .card p{
          font-size:16px;
          margin-top:8px;
        }


        .resumen{
          display:grid;
          grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
          gap:25px;
          margin-bottom:30px;
        }

        .box{
          background:white;
          border-radius:18px;
          padding:22px;
          box-shadow:0 6px 18px rgba(0,0,0,.08);
        }

        .box h4{
          color:var(--vinotinto);
          font-weight:700;
          margin-bottom:8px;
        }

        .box p{
          font-size:14px;
          color:#666;
          margin-bottom:15px;
        }

        .lista{
          list-style:none;
          padding:0;
        }

        .lista li{
          padding:8px 0;
          font-size:14px;
          border-bottom:1px solid #eee;
        }

        .lista li:last-child{
          border-bottom:none;
        }

        .estado{
          font-weight:600;
        }

        .pendiente{ color:#b30000; }
        .pagado{ color:#1e7e34; }
        .produccion{ color:#2f3ab2; }


        .graficas{
          display:grid;
          grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
          gap:25px;
        }

        .grafica-box{
          background:white;
          padding:20px;
          border-radius:18px;
          box-shadow:0 6px 18px rgba(0,0,0,.08);
        }

        .grafica-box h5{
          color:var(--vinotinto);
          margin-bottom:15px;
          font-weight:700;
        }

        canvas{
          max-height:180px;
        }
    </style>
</head>

<body>
<div th:replace="~{itemss/headeremple :: miHeader}"></div>
<div class="main">

    <div class="header">
        <h1>Panel de Empleado</h1>
        <p>Control general de pedidos, facturación y producción de confección</p>
    </div>


    <div class="cards">
        <div class="card">
            <h3><i class="bi bi-box"></i> Pedidos</h3>
            <p>10 pedidos activos de ropa</p>
        </div>

        <div class="card">
            <h3><i class="bi bi-receipt"></i> Facturas</h3>
            <p>5 facturas pendientes</p>
        </div>

        <div class="card">
            <h3><i class="bi bi-scissors"></i> Producción</h3>
            <p>3 órdenes en taller</p>
        </div>
    </div>


    <div class="resumen">

        <div class="box">
            <h4>Pedidos recientes</h4>
            <p>Solicitudes de confección de prendas</p>
            <ul class="lista">
                <li>Pedido #120 – 40 Camisas <span class="estado pendiente">(Pendiente)</span></li>
                <li>Pedido #121 – 25 Pantalones <span class="estado pendiente">(Pendiente)</span></li>
                <li>Pedido #122 – 15 Vestidos <span class="estado pendiente">(Pendiente)</span></li>
            </ul>
        </div>

        <div class="box">
            <h4>Facturas</h4>
            <p>Facturación de pedidos de ropa</p>
            <ul class="lista">
                <li>Factura F-301 – $950.000 <span class="estado pagado">(Pagada)</span></li>
                <li>Factura F-302 – $670.000 <span class="estado pendiente">(Por pagar)</span></li>
                <li>Factura F-303 – $1.200.000 <span class="estado pendiente">(Por pagar)</span></li>
            </ul>
        </div>

        <div class="box">
            <h4>Producción</h4>
            <p>Estado de prendas en confección</p>
            <ul class="lista">
                <li>Orden P-45 – Camisas <span class="estado produccion">(Corte)</span></li>
                <li>Orden P-46 – Jeans <span class="estado produccion">(Costura)</span></li>
                <li>Orden P-47 – Blusas <span class="estado produccion">(Acabados)</span></li>
            </ul>
        </div>

    </div>


    <div class="graficas">

        <div class="grafica-box">
            <h5>Pedidos por prenda</h5>
            <canvas id="grafPedidos"></canvas>
        </div>

        <div class="grafica-box">
            <h5>Estado de facturas</h5>
            <canvas id="grafFacturas"></canvas>
        </div>

        <div class="grafica-box">
            <h5>Avance de producción</h5>
            <canvas id="grafProduccion"></canvas>
        </div>

    </div>

</div>


<script>
    new Chart(grafPedidos,{
      type:'bar',
      data:{
        labels:['Camisas','Pantalones','Vestidos','Jeans'],
        datasets:[{
          data:[40,25,15,30],
          backgroundColor:'#5c0b26'
        }]
      },
      options:{plugins:{legend:{display:false}}}
    });

    new Chart(grafFacturas,{
      type:'doughnut',
      data:{
        labels:['Pagadas','Pendientes'],
        datasets:[{
          data:[5,3],
          backgroundColor:['#5c0b26','#b30000']
        }]
      }
    });

    new Chart(grafProduccion,{
      type:'line',
      data:{
        labels:['Corte','Costura','Acabados'],
        datasets:[{
          data:[30,60,90],
          borderColor:'#5c0b26',
          backgroundColor:'rgba(92,11,38,.25)',
          fill:true,
          tension:.4
        }]
      },
      options:{plugins:{legend:{display:false}}}
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
      const toggleBtn = document.getElementById("formToggle");
      const submenu = document.getElementById("submenuForm");
      if (toggleBtn && submenu) {
        toggleBtn.addEventListener("click", function(e) {
          e.preventDefault();
          submenu.classList.toggle("show");
        });
      }
    });
</script>
</body>
</html>